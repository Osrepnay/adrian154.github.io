<html>

    <head>
        <title>SynthTest</title>
    </head>

    <body>

        Volume:
        <input type="range" id="volume-control" min="0.0" max="1.0" step="0.01" value="0.5">

        <script>
// globals
let audioContext;
let masterGainNode;

// controls
const volumeControl = document.getElementById("volume-control");

// 12th root of 2 for equal temperament
const ET_CONST = Math.pow(2, 1 / 12);
const ET_A4 = 440;

// convert note to frequency (Hz)
// A4 is note 49
const noteToFreq = function(note) {
    return ET_A4 * Math.pow(ET_CONST, note - 49);
};

// convert note to string
const noteToStr = function(note) {
    const notes = ["A", "A#/Bb", "B", "C", "C#/Db", "D", "D#/Eb", "E", "F", "F#/Gb", "G", "G#/Ab"];

    let i = note % 12 - 1;
    let octave = Math.floor((note + 8) / 12);
    return notes[i] + octave;
};

const playSong = function(song) {

    let oscillator = audioContext.createOscillator();
    oscillator.connect(masterGainNode);

    oscillator.type = "sine";
    oscillator.frequency.value = 440;
    oscillator.start();

};

const init = function() {

    audioContext = new window.AudioContext();
    masterGainNode = audioContext.createGain();
    masterGainNode.connect(audioContext.destination);
    masterGainNode.gain.value = parseFloat(volumeControl.value);

};

volumeControl.addEventListener("mousemove", function() {
    masterGainNode.gain.value = parseFloat(volumeControl.value);
});

init();

        </script>

    </body>

</html>